---
title: "Entrega1"
autor: "Ángel García, Arnau Piferrer, Guillem Serra"
format: html
editor: visual
---

[Repositorio](https://github.com/GSMir/Entrega1.git)

## Cargamos las liberías necesarias

```{r}
#install.packages("palmerpenguins",dep=TRUE)
library("palmerpenguins")
print(penguins, width = 50)
```

Hay 344 observaciones de pingüinos, y 8 variables diferentes.

## Vamos a mirar cada una de las variables:

```{r}
summary(penguins)
```

### Species

```{r}
class(penguins$species)
```

Podemos observar que hay 3 espécies diferentes, "Adelie", "Chinstrap" y "Gentoo". Es una variable del tipo "factor".

### Island

```{r}
class(penguins$island)
```

Podemos observar que hay 3 islas diferentes, "Biscoe", "Dream" y "Torgersen". Es una variable del tipo "factor".

### Bill_length_mm

```{r}
class(penguins$bill_length_mm)
```

Hace referéncia a la longitud del pico de los pingüinos, en mm. Es una variable del tipo "numeric". Van en un rango de 32.1mm a 59.6mm. Con una media de 43.92mm

### Bill_depth_mm

```{r}
class(penguins$bill_depth_mm)
```

Hace referéncia a la amplitud del pico de los pingüinos, en mm. Es una variable del tipo "numeric". Van en un rango de 13.1mm a 21.5mm. Con una media de 17.15mm.

### Flipper_length_mm

```{r}
class(penguins$flipper_length_mm)
```

Hace referéncia a la longitud de las aletas de los pingüinos, en mm. Es una variable del tipo "integer". Van en un rango de 172.0mm a 231.0mm. Con una media de 200.9mm.

### Body_mass_g

```{r}
class(penguins$body_mass_g)
```

Hace referéncia a la masa de los pingüinos, en g. Es una variable del tipo "integer". Van en un rango de 2700g a 6300g. Con una media de 4202g.

### Sex

```{r}
class(penguins$sex)
```

Hace referéncia al sexo cromosómico de los pingüinos. Es una variable de tipo "factor", con los valores de Macho y Hembra.

### Year

```{r}
class(penguins$year)
```

Hace referéncia al año de nacimiento de los pingüinos. Va del año 2007 al 2009. Es una variable de tipo "integer"; para trabajar mejor con esta variable la vamos a pasar a tipo "factor".

```{r}
penguins$year = as.factor(penguins$year)
```

## Estudio inferencial

### Media de la longitud de los picos


Vamos a hacer un boxplot para comprobar si hay diferencias significativas entre las medias de las longitudes de los picos en referencia a las especies de pingüinos.

```{r}
boxplot(penguins$bill_length_mm~penguins$species,ylab = "Longitud del pico",xlab = "Especies")
```
Observamos que la mediana de Adelie es bastante más pequeña que el resto, vamos a comprobarlo mediante un t.test.

```{r}
t.test(penguins$bill_length_mm[penguins$species=="Adelie"],penguins$bill_length_mm[penguins$species=="Gentoo"],conf.level = 0.95,alternative = "less",paired = FALSE,var.equal = FALSE)

t.test(penguins$bill_length_mm[penguins$species=="Adelie"],penguins$bill_length_mm[penguins$species=="Chinstrap"],conf.level = 0.95,alternative = "less",paired = FALSE,var.equal = FALSE)

```
Podemos observar que los dos t.test nos sale un p-valor mas pequeño que 0.05, por lo tanto podemos afirmar la hipótesis inicial; la media de longitud de los picos de la especia "Adelie" es más pequeña que la de las otras dos.

Ahora vamos a observar si hay diferencias significativas de la longitud del pico entre una misma especie y las islas donde habitan. Primero vamos a comprobar en que islas viven las diferentes especies de pingüinos.


```{r}
table(penguins$island[penguins$species=="Adelie"])
table(penguins$island[penguins$species=="Gentoo"])
table(penguins$island[penguins$species=="Chinstrap"])
```
Observamos que la única especie que habita en más de una isla es la "Adelie", por lo tanto realizamos un boxplot de las longitudes del pico centrándonos en esa especie y las islas donde habitan.

```{r}
boxplot(penguins$bill_length_mm[penguins$species=="Adelie"]~penguins$island[penguins$species=="Adelie"],ylab = "Longitud del pico de Adelie",xlab = "Islas")
```

No podemos obervar diferencias significativas.







```{r, echo=FALSE}
par(mfrow=c(1,3), mar=c(0,1.5,2,1.5))

islandBiscoe=length(which(penguins$island=="Biscoe" & penguins$species=="Adelie"))
islandDream=length(which(penguins$island=="Dream" & penguins$species=="Adelie"))
islandTorgersen=length(which(penguins$island=="Torgersen" & penguins$species=="Adelie"))
slices = c(islandBiscoe, islandDream, islandTorgersen)

pie(slices, main="Adelie", labels="",col=c("deepskyblue", "darkorange", "chartreuse3"))
legend("top", c("Biscoe", "Dream", "Torgersen"),cex=1, fill=c("deepskyblue", "darkorange", "chartreuse3"))


islandBiscoe=length(which(penguins$island=="Biscoe" & penguins$species=="Chinstrap"))
islandDream=length(which(penguins$island=="Dream" & penguins$species=="Chinstrap"))
islandTorgersen=length(which(penguins$island=="Torgersen" & penguins$species=="Chinstrap"))
slices = c(islandBiscoe, islandDream, islandTorgersen)

pie(slices, main="Chinstrap",labels="",col=c("deepskyblue", "darkorange", "chartreuse3"))
legend("top", c("Biscoe", "Dream", "Torgersen"),cex=1, fill=c("deepskyblue", "darkorange", "chartreuse3"))


islandBiscoe=length(which(penguins$island=="Biscoe" & penguins$species=="Gentoo"))
islandDream=length(which(penguins$island=="Dream" & penguins$species=="Gentoo"))
islandTorgersen=length(which(penguins$island=="Torgersen" & penguins$species=="Gentoo"))
slices = c(islandBiscoe, islandDream, islandTorgersen)

pie(slices, main="Gentoo",labels="",col=c("deepskyblue", "darkorange", "chartreuse3"))
legend("top", c("Biscoe", "Dream", "Torgersen"),cex=1, fill=c("deepskyblue", "darkorange", "chartreuse3"))
```





